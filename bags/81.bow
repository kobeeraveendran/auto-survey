controlling output length neural encoder decoders yuta titech graham cmu edu ryohei titech hiroya titech manabu titecjh institute technology japan mellon university usa abstract neural encoder decoder models shown great success sequence generation tasks previous work vestigated situations like control length encoder decoder puts capability crucial tions text summarization generate concise summaries paper desired length pose methods controlling output quence length neural encoder decoder models decoding based methods learning based methods results learning based methods ity control length degrading mary quality summarization task introduction rst use machine translation brenner blunsom cho sutskever encoder decoder proach demonstrated great success sequence generation tasks including image caption generation vinyals parsing vinyals dialogue response generation serban sentence summarization rush chopra particular focus sentence summarization suggests consists generating shorter sions sentences applications document work author nara stitute science technology com kiyukuta lencon summarization nenkova mckeown headline generation dorr recently rush automatically constructed large training data sentence summarization led rapid development neural sentence summarization nss neural headline generation nhg models studies address task nallapati ayana ranzato lopyrev gulcehre chopra essential properties text rization systems ability erate summary desired length desired lengths summaries strongly depends scene use granularity information user wants understand monitor size device user length depends information contained given source document traditional setting text summarization source document desired length summary given input summarization system methods controlling output sequence length decoder models investigated spite importance settings paper propose investigate methods controlling output sequence length neural encoder decoder models methods decoding based receive sired length decoding process training process standard decoder models methods learning based modify network architecture receive desired length input experiments learning based methods outperform decoding based methods long byte summaries despite additional length control capability proposed methods remain tive existing methods standard settings shared background related work text summarization oldest elds study natural language processing summarization methods focused specically sentence compression headline generation traditional approaches task focus word deletion rule based dorr zajic statistical woodsend galanis androutsopoulos filippova strube filippova altun methods studies abstractive sentence summarization ing syntactic transduction cohn lapata napoles taking phrase based tistical machine translation approach banko wubben cohn lapata recent work adopted techniques encoder decoder kalchbrenner blunsom sutskever cho tional bahdanau luong neural network models eld machine translation tailored sentence marization task rush rst pose sentence summarization new target task neural sequence sequence learning studies task marks neural sequence transduction ods ranzato lopyrev ayana studies address portant phenomena frequently occurred written summaries copying source document gulcehre nallapati investigate way solve important problems capturing keywords inputting multiple sentences neural encoder decoders viewed statistical language models conditioned sentence context rosenfeld proposed sentence language models consider features sentence length described introduction knowledge explicitly controlling length output sequences neural language models encoder decoders investigated finally studies modify sequence according meta information dialogue act wen user ality politeness sennrich studies focused length topic paper importance controlling output length mentioned section standard setting text summarization input source document desired length summary summarization system rization systems able generate maries lengths obviously property essential summarization methods based neural encoder decoder models encoder decoder model completely data driven approach output sequence length depends training data model trained example use sentence summary pairs extracted annotated english gigaword pus training data rush average length human written summary bytes figure shows statistics corpus train standard encoder decoder model perform standard beam search decoding corpus average length output sequence byte situations want summaries lengths ple shared task maximum length summaries set bytes rization systems benet generating tences length limit recent nss models trol output length rush following use method tem inhibited generating end sentence tag eos tag assigning score rst sentence article headline figure histograms rst sentence length headline length ratio annotated gigaword english ratio word corpus bracketed values subcaption averages given source sentence summarizer generates shortened version input summary sentence model estimates conditional probability ing parameters trained large training data ing sentence summary pairs typically ditional probability factorized product conditional probabilities word quence following describe compute encoder use directional rnn birnn coder shown effective neural chine translation bahdanau speech recognition schuster paliwal graves birnn processes source sentence forward backward directions separate rnns encoding process birnn computes forward hidden states backward hidden states follows kind recurrent unit use long short term memory lstm hochreiter schmidhuber networks memory cells directions figure encoder decoder architecture base model paper generating xed number nally output summaries truncated bytes ideally models able change output quence depending given output length output eos tag appropriate time point natural manner network architecture encoder decoder attention section describe model ture experiments encoder decoder consisting directional rnns attention mechanism figure shows architecture model suppose source sentence represented sequence words code com facebook namas ber words set long setting average number words human summaries evaluation set published default encoding set initial hidden states controlling length encoder decoders memory cell decoder follows decoder attender decoder based rnn lstm use attention mechanism developed luong uses compute contextual information time step rst summarize forward backward encoder states taking sum late context vector weighted sum summarized vectors atihi weight step puted softmax operation ati context vector calculated model updates distribution word lows bhs bso note provided input lstm step called input feeding architecture luong training decoding training objective models maximize log likelihood sentence summary pairs given training set log models trained use beam search output maximizes conditional ity section propose methods control length output rst methods decoder framework decoding process control output length changing model methods model changed trained obtain capability controlling length following evaluation dataset experiments use bytes unit length models use words bytes necessary ixlen beam search eos tags rst method examine decoding approach similar taken recent nss ods slightly method inhibit decoder generating eos tag assigning score model stop decoding process simply stop decoding process length output sequence reaches desired length cally beam search length quence generated far exceeds desired length word replaced eos tag score word replaced score eos tag eos replacement ixrng discarding range sequences second decoding method based discarding range sequences inhibited generating eos tag allowing decide stop generation instead dene legitimate range sequence setting minimum imum lengths specically addition normal beam search procedure set rules model generates eos tag output sequence shorter minimum length discard sequence beam generated sequence exceeds mum length discard sequence beam replace word eos tag add sequence beam eos replacement section words sequences contain eos tag dened length range method compromise allows model exibility plan generated quences certain acceptable length range noted method needs larger beam size desired length different average summary length training data need preserve hypotheses sired length lenemb length embedding additional input lstm method learning based method ically trained control length output quence inspired previous work strated additional inputs decoder models effectively control characteristics output wen model vides information length form additional input net specically model potential uses embedding desired length parameterized length rdl embedding matrix wle number length types decoding process input embedding remaining length additional input lstm figure ized encoding process updated decoding process follows length length output word length desired length learn values length embedding matrix wle ing method provides additional information length remaining output sequence allowing decoder plan output based remaining number words erate workaround prevent situation sequences discarded beam figure lenemb remaining length tional input lstm decoder figure leninit initial state decoder memory cell manages output length leninit length based memory cell initialization lenemb inputs remaining length decoder step decoding process leninit method inputs desired length initial state decoder figure shows chitecture leninit specically model uses memory cell control output length initializing states decoder hidden state memory cell follows length desired length trainable parameter length model lenemb guided appropriate output length inputting maining length step leninit attempts provide model ability manage output length inner state ically memory cell lstm networks able endeavour possible lstms rst sentence ratio summary figure histograms rst sentence length summary length ratio learn functions example subtract xed particular memory cell time output word ways aging length found approach simple effective experiment dataset trained models annotated english gigaword corpus napoles rush constructed sentence summarization perform preprocessing standard script dataset sists approximately million pairs rst sentence source document line figure shows length histograms summaries training set vocabulary size source documents target summaries including beginning sentence end sentence unknown word tags lenemb leninit input length headline training note train multiple summarization models line length single model capable trolling length output evaluate methods evaluation set generating short document summaries task summarization systems required create short mary given document summaries length limit bytes truncated bonus creating shorter summary evaluation set consists source documents human written reference summaries example add memory cell managing length com facebook namas source document figure shows length tograms summaries evaluation set note human written summaries long bytes variants rouge lin evaluation metrics gram bigram rouge longest common subsequence sided permutation test chinchor statistical icance testing implementation use adam kingma optimize eters mini batch size updates rst sampled training examples groups examples source sentence length shufed groups set dimension word embeddings hidden state lstms initialize bias forget gate use gate biases jozefowicz use chainer tokui plement models lenemb set larger longest summary lengths dataset figure figure methods ixrng found beam size sufcient ixrng beam size aggressively cards candidate sequences beams coding result rouge evaluation table shows rouge scores method length limits byte gardless length limit set model ixlen ixrng byte byte byte table rouge scores length limits scores signicantly worse best score column bolded source reference ixlen ixrng lenemb leninit time world champion michelle kwan withdrew gure skating championships wednesday petition skating ofcials chance compete turin olympics injury leaves kwan olympic hopes limbo kwan withdraws kwan withdraws skating championships kwan pulls gure skating championships turin olympics kwan withdraws kwan withdraws gure skating championships kwan pulls gure skating championships turin olympics bid kwan withdraws skating kwan withdraws gure skating championships world champion kwan withdraws olympic gure skating championships kwan quits gure skating kwan withdraws gure skating worlds kwan withdraws gure skating championships olympics table examples output method specied lengths tion methods use reference summaries note ixlen ixrng generate maries hard constraint ing process allows follow hard constraint length calculate scores lenemb leninit impose hard constraint length comparison fair table specically use beam search ixrng minimum length purpose showing length control capability lenemb leninit lines results standard beam search hard constraints use results discussions sections results learning based ixrng equivalence standard beam search set range ods lenemb leninit tend outperform decoding based methods ixlen ixrng longer summaries bytes byte setting signicant difference types methods hypothesize average sion rate training data figure byte setting forces model erate summaries average sion rate learning based models training data learn compression steep rate examples generated summaries tables examples validation set annotated gigaword corpus bles models including based methods decoding based methods generate formed sentences paraphrases gure source reference ixlen ixrng lenemb leninit people tested positive bird virus eastern turkey health minister recep akdag told news conference wednesday test positive bird virus turkey infected bird infected bird eastern turkey people tested positive bird eastern turkey says minister infected bird infected bird eastern turkey people tested positive bird eastern turkey says minister bird cases turkey conrmed positive bird eastern turkey bird patients test positive bird eastern turkey cases bird turkey people tested positive bird turkey people tested positive bird eastern turkey health conference table examples output method withdrew examples generated single noun phrase suitable short length setting length control capability learning based models figure shows histograms output length standard encoder decoder lenemb leninit output lengths standard model disperse widely lengths learning based models concentrated desired length histograms clearly length controlling bility learning based models table shows nal state beam leninit generates sentence length bytes example standard beam search table sentences beam generated length close desired length shows method obtained ability control output length expected parison table shows nal state beam perform standard beam search dard encoder decoder model ixlen ixrng sentence formed lengths varied comparison existing methods objective paper obtain state art scores evaluation set interest length controllable models competitive task table shows scores methods copied table addition scores existing methods abs rush standard model neural sentence summarization similar method baseline setting ixlen table shows score ixlen parable existing methods table shows lenemb leninit capability controlling length ing rouge score conclusion paper presented rst examination problem controlling length neural decoder models point view marization examined methods controlling length output sequences decoding based methods ixlen ixrng based methods lenemb leninit sults showed learning based methods generally outperform decoding based methods learning based methods obtained capability controlling output length losing rouge score compared existing summarization methods finally compare methods existing ods standard settings shared acknowledgments normalized number united states work supported jsps kakenhi grant number grateful byte candidate summary cases bird turkey bird cases turkey people tested bird people tested turkey bird cases turkey bird cases eastern people tested east turkey bird cases turkey people fail bird virus byte candidate summary people tested positive bird eastern turkey tested positive bird eastern turkey people tested positive bird people infected bird eastern turkey tested positive bird infected bird eastern turkey infected bird eastern turkey conrmed cases bird eastern turkey people tested positive bird turkey beam leninit beam standard encoder decoder table final state beam learning based model instructed output byte summary source document table encoder decoder lenemb leninit figure histograms output lengths generated standard encoder decoder lenemb leninit lenemb leninit bracketed numbers region desired lengths set model ixlen ixrng lenemb leninit ras ras table comparison note reproduced table existing studies rows opportunity use kurisu server dwango ltd experiments references ayana ayana shen liu sun neural headline generation minimum risk training corr cho yoshua bengio neural machine translation jointly learning align translate proceedings banko michele banko vibhu mittal headline generation proceedings michael witbrock based statistical translation pages nancy chinchor cal signicance results proceedings pages cho kyunghyun cho bart van merrienboer caglar gulcehre dzmitry bahdanau fethi bougares holger schwenk yoshua bengio learning phrase representations rnn encoder decoder statistical machine translation proceedings pages chopra sumit chopra michael auli alexander rush abstractive sentence marization attentive recurrent neural networks proceedings naacl pages cohn trevor cohn mirella lapata sentence compression word deletion proceedings pages bahdanau dzmitry bahdanau kyunghyun cohn trevor cohn mirella lapata abstractive approach sentence sion acm july models proceedings naacl pages dorr bonnie dorr david zajic richard schwartz hedge trimmer parse trim approach headline generation proceedings hlt naacl text summarization workshop pages filippova katja filippova yasemin altun overcoming lack parallel data sentence compression proceedings pages filippova katja filippova michael strube dependency tree based sentence pression proceedings pages filippova katja filippova enrique seca carlos colmenares lukasz kaiser oriol vinyals sentence compression deletion lstms proceedings pages galanis dimitrios galanis ion androutsopoulos extractive vised stage method sentence compression proceedings naacl pages graves graves jaitly hamed hybrid speech recognition deep bidirectional lstm proceedings ieee workshop pages jiatao zhengdong hang victor incorporating copying anism sequence sequence learning ings pages gulcehre caglar gulcehre sungjin ahn ramesh nallapati bowen zhou yoshua bengio pointing unknown words proceedings pages hochreiter sepp hochreiter jurgen schmidhuber long short term memory neural computation rafal jozefowicz wojciech zaremba ilya sutskever empirical exploration recurrent network architectures proceedings pages kalchbrenner nal kalchbrenner phil blunsom recurrent continuous translation proceedings pages models seattle washington usa october association computational linguistics kingma diederik kingma jimmy adam method stochastic tion proceedings jiwei michel galley chris brockett jianfeng gao bill dolan promoting objective function neural conversation jiwei michel galley chris brockett georgios spithourakis jianfeng gao bill dolan persona based neural conversation model proceedings pages chin yew lin rouge package automatic evaluation summaries proceedings workshop pages konstantin lopyrev generating news headlines recurrent neural networks corr luong thang luong hieu pham christopher manning effective approaches attention based neural machine translation proceedings pages nallapati ramesh nallapati bing xiang bowen zhou sequence sequence rnns text summarization corr napoles courtney napoles chris burch juri ganitkevitch benjamin van durme paraphrastic sentence compression character based metric tightening deletion proceedings workshop monolingual text generation pages napoles courtney napoles matthew ley benjamin van durme annotated gaword proceedings joint workshop tomatic knowledge base construction web scale knowledge extraction pages nenkova ani nenkova leen mckeown automatic summarization foundations trends information retrieval volume pages sumit ranzato marcaurelio chopra michael auli wojciech zaremba sequence level training recurrent neural networks corr ranzato rosenfeld ronald rosenfeld stanley chen xiaojin zhu sentence exponential language models vehicle statistical integration computer speech language rush alexander rush sumit chopra jason weston neural attention model proceedings abstractive sentence summarization pages schuster schuster bidirectional recurrent neural ieee transactions signal processing wal works sennrich rico sennrich barry haddow alexandra birch controlling politeness ral machine translation constraints ceedings naacl pages serban iulian vlad serban alessandro doni yoshua bengio aaron courville joelle pineau building end end dialogue systems generative hierarchical neural network models proceedings pages sutskever ilya sutskever oriol vinyals quoc sequence sequence learning proceedings pages neural networks tokui seiya tokui kenta oono shohei hido justin clayton chainer generation open source framework deep learning proceedings workshop learningsys vinyals oriol vinyals lukasz kaiser terry koo slav petrov ilya sutskever geoffrey ton grammar foreign language ceedings pages vinyals oriol vinyals alexander toshev samy bengio dumitru erhan tell neural image caption generator ings ieee conference computer vision pattern recognition pages wen tsung hsien wen milica gasic nikola mrksic pei hao david vandyke steve young semantically conditioned lstm based natural language generation spoken dialogue tems proceedings pages lisbon portugal september association tational linguistics woodsend kristian woodsend yansong feng mirella lapata title generation proceedings quasi synchronous grammar pages wubben sander wubben antal van den bosch emiel krahmer sentence cation monolingual machine translation ceedings pages kelvin jimmy ryan kiros kyunghyun cho aaron courville ruslan nov rich zemel yoshua bengio attend tell neural image caption generation visual attention david blei francis bach editors proceedings pages jmlr workshop conference proceedings zajic david zajic bonnie dorr schwartz bbn umd topiary proceedings naacl document standing workshop pages
